<html>
    <head>
        <title>Github UI</title>
        <script>
            function enter() {
                const pieces = input.value.split(' ');

                const commandName = document.createElement('b');
                commandName.append(pieces[0]); // this won't accept tags
                messageElement(commandName);

                if (pieces.length === 0) {
                    console.log('is this even possible?');
                    commands.help();
                } else if (!commands[pieces[0]]) {
                    message('unknown command');
                    commands.help();
                } else {
                    commands[pieces[0]](...pieces);
                }
                output.appendChild(document.createElement('br'));
            }

            function arguments(...arguments) {
                target.arguments = arguments;
                return target;
            }

            const commands = {
                help(help, command) {
                    if (!!command) {
                        if (command in commands) {
                            for (parameter in commands[command].parameters){
                                message(`${parameter}: ${commands[command].parameters[parameter]}`);
                            }
                        } else {
                            message('no help available for that command');
                        }

                    } else {
                        message('Valid commands:')
                        for (const command in commands) {
                            message(command);
                        }
                    }
                },
                security() {
                    message('Is this website secure?');
                    message('Good question. This does not save any cookies, just local memory. It does not make any external requests other than those you specify. It is just a simple site; take a look for yourself.')
                },
                yell(yell, ...thingsToYell) {
                    alert(thingsToYell);
                },
            }

            // if only @decorators were supported
            commands.help.parameters = { 
                command: 'the command to get help for',
            }
            commands.yell.parameters = {
                '...thingsToYell': 'The things you want yelled',
            }

            function messageElement(element) {
                output.appendChild(element);
                message('');
            }

            function message(content) {
                output.append('\n' + content)
                output.appendChild(document.createElement('br'));
                input.scrollIntoView();
                input.select();
            }
        </script>
    </head>
    <body>
        <div id="output"></div>
        <form action="javascript:enter()">
            <input id="input" type="text" value="help"/>
        </form>
    </body>
    <script>
        const input = document.getElementById('input');
        const output = document.getElementById('output');
        input.focus();
        input.select();
    </script>
</html>